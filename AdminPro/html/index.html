<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - AdminPro</title>

    <!-- Bootstrap 5 CSS -->
    <link id="bootstrap-css" href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- Tabler Icons -->
    <link href="../assets/icons/tabler-icons.min.css" rel="stylesheet">
    <!-- App CSS -->
    <link href="../assets/css/app.css" rel="stylesheet">
    <!-- Theme CSS (Dynamic) -->
    <link id="theme-css" rel="stylesheet">
    <!-- Dark Mode CSS (Dynamic) -->
    <!-- Loaded by JS -->
</head>
<body>

    <div class="wrapper">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <i class="ti ti-brand-tabler fs-2 text-primary me-2"></i>
                <span>AdminPro</span>
            </div>
            <div class="sidebar-menu">
                <a href="index.html" class="nav-link active">
                    <i class="ti ti-dashboard"></i> <span data-i18n="dashboard">Dashboard</span>
                </a>
                <a href="charts.html" class="nav-link">
                    <i class="ti ti-chart-pie"></i> <span data-i18n="charts">Charts</span>
                </a>
                <a href="tables.html" class="nav-link">
                    <i class="ti ti-table"></i> <span data-i18n="tables">Tables</span>
                </a>
                <a href="forms.html" class="nav-link">
                    <i class="ti ti-forms"></i> <span data-i18n="forms">Forms</span>
                </a>
                <div class="px-4 py-2 text-muted text-uppercase small mt-3" data-i18n="pages">Pages</div>
                <a href="auth-login.html" class="nav-link">
                    <i class="ti ti-lock"></i> <span data-i18n="authentication">Authentication</span>
                </a>
                <a href="../documentation/index.html" class="nav-link">
                    <i class="ti ti-file-text"></i> Documentation
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Overlay for mobile -->
            <div class="sidebar-overlay"></div>

            <!-- Topbar -->
            <header class="topbar">
                <button id="sidebarToggle" class="btn btn-link text-muted d-lg-none">
                    <i class="ti ti-menu-2 fs-3"></i>
                </button>

                <div class="d-none d-md-block">
                    <div class="input-group">
                        <span class="input-group-text bg-transparent border-0 ps-0"><i class="ti ti-search fs-4 text-muted"></i></span>
                        <input type="text" class="form-control bg-transparent border-0" placeholder="Search..." aria-label="Search">
                    </div>
                </div>

                <div class="ms-auto d-flex align-items-center gap-3">

                    <!-- Language Selector -->
                    <div class="dropdown">
                        <button class="btn btn-link text-decoration-none dropdown-toggle text-muted" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="ti ti-world fs-4"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><button class="dropdown-item" onclick="setLanguage('en')">English</button></li>
                            <li><button class="dropdown-item" onclick="setLanguage('hi')">Hindi</button></li>
                            <li><button class="dropdown-item" onclick="setLanguage('ar')">Arabic</button></li>
                        </ul>
                    </div>

                    <!-- Theme Switcher -->
                    <div class="dropdown">
                        <button class="btn btn-link text-decoration-none dropdown-toggle text-muted" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="ti ti-shirt fs-4"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><button class="dropdown-item d-flex align-items-center" onclick="setTheme('blue')"><i class="ti ti-circle-filled text-primary me-2"></i> Blue</button></li>
                            <li><button class="dropdown-item d-flex align-items-center" onclick="setTheme('green')"><span class="text-success me-2">●</span> Green</button></li>
                            <li><button class="dropdown-item d-flex align-items-center" onclick="setTheme('purple')"><span style="color: #6f42c1" class="me-2">●</span> Purple</button></li>
                            <li><button class="dropdown-item d-flex align-items-center" onclick="setTheme('orange')"><span class="text-warning me-2">●</span> Orange</button></li>
                            <li><button class="dropdown-item d-flex align-items-center" onclick="setTheme('red')"><span class="text-danger me-2">●</span> Red</button></li>
                        </ul>
                    </div>

                    <!-- Dark Mode Toggle -->
                    <div class="form-check form-switch mb-0">
                        <input class="form-check-input" type="checkbox" id="darkModeToggle">
                        <label class="form-check-label" for="darkModeToggle"><i class="ti ti-moon fs-4 text-muted"></i></label>
                    </div>

                    <!-- Profile -->
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="../assets/images/user-placeholder.png" alt="User" class="rounded-circle" width="40" height="40" style="object-fit: cover;">
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end shadow-sm">
                            <li><h6 class="dropdown-header" data-i18n="welcome_message">Welcome back!</h6></li>
                            <li><a class="dropdown-item" href="#"><i class="ti ti-user me-2"></i> <span data-i18n="profile">Profile</span></a></li>
                            <li><a class="dropdown-item" href="#"><i class="ti ti-settings me-2"></i> <span data-i18n="settings">Settings</span></a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="auth-login.html"><i class="ti ti-logout me-2"></i> <span data-i18n="logout">Logout</span></a></li>
                        </ul>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <div class="container-fluid p-4">

                <!-- Welcome Banner -->
                <div class="card mb-4 border-0 text-white" style="background: var(--primary-gradient); position: relative; overflow: hidden;">
                    <div class="card-body p-4 p-lg-5">
                        <div class="row align-items-center">
                            <div class="col-lg-7">
                                <h2 class="fw-bold mb-3">Welcome back, Administrator!</h2>
                                <p class="mb-4 text-white-50 fs-5">You have completed 75% of your goals this week. Check your new badge in your profile.</p>
                                <button class="btn btn-light text-primary fw-bold px-4 py-2 shadow-sm"><i class="ti ti-download me-2"></i>Download Report</button>
                            </div>
                            <div class="col-lg-5 d-none d-lg-block text-end">
                                <i class="ti ti-trophy fs-1 text-white-50" style="font-size: 8rem !important; opacity: 0.3;"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="row g-4 mb-4">
                    <div class="col-xl-3 col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="bg-primary bg-opacity-10 p-3 rounded-3 text-primary">
                                        <i class="ti ti-currency-dollar fs-2"></i>
                                    </div>
                                    <div class="ms-auto text-success fw-bold">
                                        <i class="ti ti-trending-up me-1"></i> +2.5%
                                    </div>
                                </div>
                                <h3 class="fw-bold mb-1">$40,000</h3>
                                <div class="text-muted small text-uppercase fw-bold" data-i18n="earnings">Earnings</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="bg-success bg-opacity-10 p-3 rounded-3 text-success">
                                        <i class="ti ti-shopping-cart fs-2"></i>
                                    </div>
                                    <div class="ms-auto text-success fw-bold">
                                        <i class="ti ti-trending-up me-1"></i> +8.2%
                                    </div>
                                </div>
                                <h3 class="fw-bold mb-1">215</h3>
                                <div class="text-muted small text-uppercase fw-bold" data-i18n="orders">Orders</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="bg-info bg-opacity-10 p-3 rounded-3 text-info">
                                        <i class="ti ti-list-check fs-2"></i>
                                    </div>
                                    <div class="ms-auto text-danger fw-bold">
                                        <i class="ti ti-trending-down me-1"></i> -1.4%
                                    </div>
                                </div>
                                <h3 class="fw-bold mb-1">50%</h3>
                                <div class="text-muted small text-uppercase fw-bold">Tasks</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="bg-warning bg-opacity-10 p-3 rounded-3 text-warning">
                                        <i class="ti ti-message-2 fs-2"></i>
                                    </div>
                                    <div class="ms-auto text-success fw-bold">
                                        <i class="ti ti-trending-up me-1"></i> +12%
                                    </div>
                                </div>
                                <h3 class="fw-bold mb-1">18</h3>
                                <div class="text-muted small text-uppercase fw-bold">Pending</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="row">
                    <div class="col-lg-8 mb-4">
                        <div class="card h-100">
                            <div class="card-header border-0 pb-0">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h5 class="card-title fw-bold mb-0" data-i18n="revenue">Revenue Overview</h5>
                                        <small class="text-muted">Monthly performance vs last year</small>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-sm btn-light" type="button"><i class="ti ti-dots-vertical"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="chart-revenue"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 mb-4">
                        <div class="card h-100">
                            <div class="card-header border-0 pb-0">
                                <h5 class="card-title fw-bold mb-0">Traffic Sources</h5>
                                <small class="text-muted">Where your users are coming from</small>
                            </div>
                            <div class="card-body d-flex align-items-center justify-content-center">
                                <div id="chart-pie" class="w-100"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity Table -->
                <div class="card mb-4">
                    <div class="card-header border-0">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="fw-bold mb-0" data-i18n="recent_activity">Recent Activity</h5>
                            <button class="btn btn-primary btn-sm rounded-pill px-3">View All</button>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle mb-0" width="100%">
                                <thead class="bg-light">
                                    <tr>
                                        <th class="ps-4">Name</th>
                                        <th>Position</th>
                                        <th>Status</th>
                                        <th>Start date</th>
                                        <th class="text-end pe-4">Salary</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="ps-4">
                                            <div class="d-flex align-items-center">
                                                <div class="avatar bg-primary text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 36px; height: 36px;">TN</div>
                                                <div>
                                                    <div class="fw-bold">Tiger Nixon</div>
                                                    <div class="small text-muted">Edinburgh</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>System Architect</td>
                                        <td><span class="badge bg-success bg-opacity-10 text-success rounded-pill px-3">Active</span></td>
                                        <td>2011/04/25</td>
                                        <td class="text-end pe-4 fw-bold">$320,800</td>
                                    </tr>
                                    <tr>
                                        <td class="ps-4">
                                            <div class="d-flex align-items-center">
                                                <div class="avatar bg-info text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 36px; height: 36px;">GW</div>
                                                <div>
                                                    <div class="fw-bold">Garrett Winters</div>
                                                    <div class="small text-muted">Tokyo</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Accountant</td>
                                        <td><span class="badge bg-warning bg-opacity-10 text-warning rounded-pill px-3">Pending</span></td>
                                        <td>2011/07/25</td>
                                        <td class="text-end pe-4 fw-bold">$170,750</td>
                                    </tr>
                                    <tr>
                                        <td class="ps-4">
                                            <div class="d-flex align-items-center">
                                                <div class="avatar bg-danger text-white rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 36px; height: 36px;">AC</div>
                                                <div>
                                                    <div class="fw-bold">Ashton Cox</div>
                                                    <div class="small text-muted">San Francisco</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Junior Technical Author</td>
                                        <td><span class="badge bg-secondary bg-opacity-10 text-secondary rounded-pill px-3">Inactive</span></td>
                                        <td>2009/01/12</td>
                                        <td class="text-end pe-4 fw-bold">$86,000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
            <!-- End Page Content -->

            <footer class="text-center py-4 mt-auto">
                <div class="container small text-muted">
                    <span>Copyright &copy; AdminPro 2023. Designed with <i class="ti ti-heart text-danger"></i></span>
                </div>
            </footer>
        </div>
    </div>

    <!-- Core JS -->
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/apexcharts.min.js"></script>

    <!-- App Logic -->
    <script src="../assets/js/dark-mode.js"></script>
    <script src="../assets/js/theme-switcher.js"></script>
    <script src="../assets/js/lang.js"></script>
    <script src="../assets/js/app.js"></script>

    <!-- Page Specific Script -->
    <script>
        // Check for dark mode to adjust chart defaults
        const isDark = localStorage.getItem('darkMode') === 'enabled';
        const textColor = isDark ? '#94a3b8' : '#64748b';
        const gridColor = isDark ? 'rgba(255,255,255,0.05)' : '#f1f5f9';

        // Revenue Chart (Area Gradient)
        var optionsRevenue = {
            series: [{
                name: 'Revenue',
                data: [31, 40, 28, 51, 42, 109, 100]
            }, {
                name: 'Cost',
                data: [11, 32, 45, 32, 34, 52, 41]
            }],
            chart: {
                height: 350,
                type: 'area',
                toolbar: { show: false },
                fontFamily: 'inherit',
                background: 'transparent'
            },
            dataLabels: { enabled: false },
            stroke: {
                curve: 'smooth',
                width: 3
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shadeIntensity: 1,
                    opacityFrom: 0.5,
                    opacityTo: 0.05,
                    stops: [0, 90, 100]
                }
            },
            colors: ['#4361ee', '#2ec4b6'],
            xaxis: {
                type: 'datetime',
                categories: ["2018-09-19T00:00:00.000Z", "2018-09-19T01:30:00.000Z", "2018-09-19T02:30:00.000Z", "2018-09-19T03:30:00.000Z", "2018-09-19T04:30:00.000Z", "2018-09-19T05:30:00.000Z", "2018-09-19T06:30:00.000Z"],
                labels: { style: { colors: textColor } },
                axisBorder: { show: false },
                axisTicks: { show: false }
            },
            yaxis: {
                labels: { style: { colors: textColor } }
            },
            grid: {
                borderColor: gridColor,
                strokeDashArray: 4,
            },
            tooltip: {
                theme: isDark ? 'dark' : 'light',
                x: { format: 'dd/MM/yy HH:mm' }
            },
        };

        var chartRevenue = new ApexCharts(document.querySelector("#chart-revenue"), optionsRevenue);
        chartRevenue.render();

        // Sources Chart (Donut)
        var optionsPie = {
            series: [44, 55, 41, 17],
            labels: ['Direct', 'Social', 'Referral', 'Organic'],
            chart: {
                type: 'donut',
                height: 320,
                fontFamily: 'inherit',
                background: 'transparent'
            },
            plotOptions: {
                pie: {
                    donut: {
                        size: '70%',
                        labels: {
                            show: true,
                            name: { color: textColor },
                            value: { color: textColor, fontWeight: 700 }
                        }
                    }
                }
            },
            stroke: { show: false },
            colors: ['#4361ee', '#2ec4b6', '#ff9f1c', '#ef233c'],
            legend: {
                position: 'bottom',
                labels: { colors: textColor }
            },
            dataLabels: { enabled: false },
            tooltip: { theme: isDark ? 'dark' : 'light' }
        };

        var chartPie = new ApexCharts(document.querySelector("#chart-pie"), optionsPie);
        chartPie.render();

        // Listen for dark mode toggle to update charts
        document.getElementById('darkModeToggle').addEventListener('change', function() {
            setTimeout(() => location.reload(), 100); // Simple reload to re-render charts with correct theme colors
        });
    </script>
</body>
</html>
